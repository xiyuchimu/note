视频:百度网盘-》课程-》面试

1.工作内存，主内存
2.--volatile 
  原理 LOCK指令（缓存锁）(线程一改变数据时，同步到主内存中，同时使其他线程该变量缓存失效)
  内存屏障 总线锁 缓存锁
  字节码 汇编指令
  --synchronized(monitorenter/monitorexit)
  类锁
  --Lock 可重入锁 AQS
  lock.lock() lock.unlock()
  
  
  
  AQS  AQS是AbstractQueuedSynchronizer的简称。AQS提供了一种实现阻塞锁和一系列依赖FIFO等待队列的同步器的框架，如下图所示。AQS为一系列同步器依赖于一个单独的原子变量（state）的同步器提供了一个非常有用的基础。子类们必须定义改变state变量的protected方法，这些方法定义了state是如何被获取或释放的。鉴于此，本类中的其他方法执行所有的排队和阻塞机制。子类也可以维护其他的state变量，但是为了保证同步，必须原子地操作这些变量。
  
  
  总线锁：就是使用处理器提供的一个LOCK#信号，当一个处理器在总线上输此信号时，其他处理器的请求将被阻塞住，那么该处理器可以独占共享内存。
  缓存锁：MESI协议保证缓存一致性
